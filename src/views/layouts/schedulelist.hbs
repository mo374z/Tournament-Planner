<section style="text-align: center;">


    <h1 >Spielplan</h1>  
        <div class="row justify-content-center page-divider">
            <div class="col-auto">

                <table class="table table-responsive table-bordered tabel-striped table-hover" id="scheduleTable">
                <thead>
                    <tr>
                        <th>Nr.</th>
                        <th>Zeit <small>({{timeBetweenGames}}min)</small></th>
                        <th colspan="2">Teams</th>
                        <th>Ergebnis</th>
                        <th>Dauer</th>
                        <th colspan="2">Gruppen</th>
                        <th>Status</th>
                        <th>Phase</th>
                        <th>Anzeige Name</th>
                        <th>Aktionen</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each list}}
                    <tr {{#streq this.gamePhase 'Group_Stage'}}  {{else}}class="bg-light"{{/streq}}>
                        <td>{{this.number}}</td>
                        <td>{{formatTime this.time}}</td>
                        <td>{{this.opponents.[0]}}</td>
                        <td>{{this.opponents.[1]}}</td>
                        <td>{{this.goals.[0]}}:{{this.goals.[1]}}</td>
                        <td>{{this.duration}} minutes</td>
                        <td>{{this.group.[0]}}</td>
                        <td>{{this.group.[1]}}</td>
                        <td>{{this.status}}</td>
                        <td>{{this.gamePhase}}</td>
                        <td>{{this.gameDisplayName}}</td>

                        <td>
                            <div style="white-space: nowrap;">
                            {{#streq this.status 'active'}} {{!-- if the game is ended, the edit button is disabled --}}
                                <a href="/schedule/{{this.id}}" class="btn btn-secondary disabled" >Bearbeiten</a> 
                            {{else}}
                                <a href="/schedule/{{this.id}}" class="btn btn-primary" >Bearbeiten</a>  
                            {{/streq}}                

                            {{#if this.isGamePlayable}} {{!-- isGamePlayable is a helper function to check if the game is playable --}}	
                                <a href="/game/{{this.id}}/play" class="btn btn-success">Spiel starten</a>
                            {{else}}    
                                {{#streq this.status 'Scheduled'}}                        
                                    <a href="/game/{{this.id}}/play" class="btn btn-success disabled">Spiel starten</a>
                                {{else}}
                                    <a href="/game/{{this.id}}/play" class="btn btn-secondary disabled">Spiel starten</a>
                                {{/streq}}
                            {{/if}}

                            </div>
                        </td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
            </div>
        </div>

{{!-- 
    <a href="/schedule/updateQuarterFinals" class="btn btn-success">Update  Quarter Final Games </a>

    <a href="/schedule/updateSemiFinals" class="btn btn-info">Update  Semi Final Games </a> --}}


    <br><br>

    <a href="/schedule/createCustomGame" class="btn btn-success">Eigenes Game erstellen/hinzuf√ºgen</a>

    <br><br>
</section>

<script>console.log( this.isGamePlayable )</script>